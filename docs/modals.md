# Модальные окна (Modals)

## Назначение
- **Цель** Предоставить единый UI для создания и редактирования клиентов, оборудования, заявок, платежей.

## Архитектура
- **Представление** `application/views/modals.php` содержит набор модальных окон Bootstrap:
  - `#modal-request` — создание заявки.
  - `#modal-payment` — ручной платеж.
  - `#modal-customer` — создание/редактирование клиента.
  - `#modal-equipment` — создание/редактирование оборудования.
  - `#modalPrihodRashod` — операции приход/расход.
  - Дополнительные модалы (`#modalAutoDistribution`, если доступно из JS) используются для авторазноски.
- **JavaScript** `application/js/script.js` инициализирует `selectpicker`, выполняет AJAX-запросы и управляет состоянием форм.

## Потоки взаимодействия
- **Открытие** кнопки на страницах (`main.php`, `customer.php`, `equipment.php`, `request.php`) используют `.btn-open-modal`.
- **Заполнение** списки клиентов и оборудования подгружаются из `/customer/getAll` и `/equipment/getEquipmentByCustomerId`.
- **Сохранение** кнопки `#saveCustomer`, `#saveEquipment`, `#addRequest`, `#addPayment` вызывают соответствующие API.
- **Валидация** выполняется на фронтенде (проверка обязательных полей, предупреждения `toastr`).

## Расширение функциональности
- **Новые модалы** создаются в `modals.php` и подключаются к JS-обработчикам.
- **Динамические поля** можно добавлять, расширяя обработку в `script.js`.
- **Переводы** поддерживаются заменой текстов в шаблоне.
